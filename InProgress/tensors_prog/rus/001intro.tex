% !TeX encoding = windows-1251
% !TeX spellcheck = ru_RU
% !TEX root = mainrus.tex

Графические интерфейсы пользователя (GUI) являются одним из наиболее распространённых способов взаимодействия с программами. Пользователи встречают набор графических элементов управления с интуитивно понятным смыслом на персональных компьютерах, ноутбуках, мобильных телефонах, банкоматах, игровых консолях и т.д. Однако низкий порог вхождения требует определённых усилий: разработка графических интерфейсов оказывается сложной задачей~\cite{UI1}.

Обычные пользователи зачастую не осознают, что именно делает интерфейс привлекательным и удобным.
Для создания качественного интерфейса необходимо учитывать множество эстетических, эргономических и психологических факторов, что требует специальных знаний, которыми программисты обладают не всегда.
В результате возникают роли не только разработчиков интерфейсов (UI), но и специалистов по пользовательскому взаимодействию (UX)~\cite{UI5}, которые разрабатывают правила (англ. guidelines) для создания эффективных интерфейсов. Эти правила часто оказываются неполными, двусмысленными и неформальными, и их применение требует опыта и интуиции, которых может не быть у разработчиков.
Взаимодействие между разработчиками и дизайнерами часто затрудняется различиями в опыте, подходах и мышлении~\cite{UI6}.
Более того, упомянутые правила не всегда легко применимы к различным устройствам и разрешениям экранов.
Поэтому разработчикам зачастую приходится следовать нескольким наборам правил проектирования интерфейсов одновременно.

В данной работе представлен подход к синтезу расположения (англ. layout) элементов управления GUI с учётом набора правил проектирования интерфейсов.
Наша модель GUI разделяет логическую структуру элементов управления, понятную программистам,
и конкретное расположение элементов, отступы и выравнивания, более понятные дизайнерам.
Мы разработали автоматизированный подход, который, основываясь на предоставленной программистом логической структуре и предоставленном дизайнером наборе правил, синтезирует расположение элементов управления в соответствии с этими правилами.
Поскольку правила могут быть неоднозначными, может существовать несколько различных расположений, удовлетворяющих им.
В контексте данной работы мы рассматриваем синтез интерфейсов как задачу удовлетворения ограничений (англ. constraint satisfaction) и используем реляционное программирование~\cite{TRS} и метод \enquote{решатель-из-верификатора}~\cite{searchproblems} (англ. verifier-to-solver) для создания решателя, который синтезирует расположения элементов управления.
В своей изначальной форме этот решатель оказывается неэффективным, поэтому был применён ряд оптимизаций (включая специализацию), чтобы повысить его производительность.
В результате получился решатель, который написан на смеси реляционного и функционального кода.
Далее набор примитивов расположения преобразуется в линейные ограничения на координаты и решается с использованием SMT решателя Z3~\cite{Zthree}, что позволяет получить абсолютные координаты всех элементов управления.
Этот подход даёт возможность создать \emph{корректный} и \emph{полный} решатель: на основе указанной логической структуры он синтезирует все расположения элементов, соответствующие заданным правилам проектирования  интерфейсов. При этом решатель достаточно эффективен, чтобы работать на обычном ноутбуке.