% !TEX TS-program = pdflatex
% !TeX spellcheck = en_US
% !TEX root = main.tex

In this section, we introduce the algorithm for context-free path querying which is based on the Kronecker product of Boolean matrices.
The algorithm solves all-pairs CFPQ problem with all-path semantics (according to~\cite{hellingsPathQuerying}).
The algorithm works in the following two steps.
\begin{enumerate}
\item \emph{Index creation}.
 During this step, the algorithm computes an index that contains the information necessary to restore paths for the given pairs of vertices.
 This index can be used to solve the reachability problem without extracting paths.
 Note that the index is finite even when the set of paths is infinite.
\item \emph{Paths extraction}.
All paths for the given pair of vertices can be enumerated by using the index.
Since the set of paths can be infinite, all paths cannot be enumerated explicitly, thus advanced techniques such as lazy evaluation are required for the implementation.
Nevertheless, a single path can always be extracted with standard techniques.
\end{enumerate}

In the following subsections, we describe these steps, prove the correctness of the algorithm, and provide time complexity estimations.
For the first step, we start by introducing a naive algorithm.
After that, we show how to achieve cubic time complexity by using a dynamic transitive closure algorithm and shave off a logarithmic factor to achieve the best known time complexity for the CFPQ problem.
We finish by providing a step-by-step example of query evaluation with the proposed algorithm.

\input{003_index_creation_algorithm}
\input{003_paths_extraction_algorithm}
\input{003_algorithm_example}